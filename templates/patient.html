{% extends 'base.html' %}

{% block title %}
PATIENTS BOOKING
{% endblock title %}

{% block body %}

<div class="container mt-3">
<div class="row">

<div class="col-md-5">

    <div class="card" style="width: 25rem;">
        <img src="static/images/doc.jpg" class="card-img-top" alt="...">
        <div class="card-body">
          <h5 class="card-title">HOSPITAL DOCTORS</h5>
          <p class="card-text">Doctors Names</p>
        </div>
        <ul class="list-group list-group-flush">
          <li class="list-group-item">An item</li>
          <li class="list-group-item">A second item</li>
          <li class="list-group-item">A third item</li>
        </ul>
        <div class="card-body">
          <a href="#" class="card-link">Contact Us</a>
          <a href="#" class="card-link">About Us</a>
        </div>
      </div>


</div>
<div class="col-md-5">
    <h4 class="text-center bg-success text-white">Book Your Slot</h4>
<br>
{% with messages=get_flashed_messages(with_categories=true) %}
      {% if messages %}
      {% for category,message in messages %}
      <div class="alert alert-{{category}} alert-dismissable fade show" role="alert">
          {{message}}
        <button type="button" class="close" data-dismiss="alert" aria-label="close">
          <span aria-hidden="true">&times;</span>
        </button>

      </div>

      {% endfor %}
      {% endif %}
      {% endwith %}


<form action="/patients" method="post" class="p-5 bg-light">
    <div class="form-group">
        <input type="email" class="form-control" name="email" id="email" value="{{current_user.email}}" required>
    </div><br>

    <div class="form-group">
        <input type="text" class="form-control" id="name" name="name" placeholder="Full Name" required>
    </div><br>

    <div class="form-group">
        <select class="form-control" id="gender" name="gender" id="gender" required>
            <option selected>Gender</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Others">Others</option>
        </select>
    </div><br>

    <div class="form-group">
        <select class="form-control" name="slot" id="slot" required>
            <option selected>Slot</option>
            <option value="morning">Morning</option>
            <option value="evening">Evening</option>
            <option value="night">Night</option>
        </select>
    </div><br>

    <div class="form-group">
        <input type="time" class="form-control" name="time" placeholder="Time" required>
    </div><br>

    <div class="form-group">
        <input type="date" class="form-control" name="date" placeholder="date" required>
    </div><br>

    <div class="form-group">
        <input type="text" class="form-control" id="disease" name="disease" placeholder="Disease" required>
    </div><br>

    <div class="form-group">
        <select class="form-control" name="dept" id="dept" required>
            <option selected>Select Doctor Department</option>
            {% for d in doct %}
            <option value="{{d.dept}}">{{d.dept}}</option>
            {% endfor %}
        </select>
    </div><br>

    <div class="form-group">
        <input type="number" class="form-control" id="number" name="number" placeholder="Phone Number" required>
    </div><br>

    <div class="d-grid gap-2 col-6 mx-auto">
        <button type="submit" class="btn btn-success btn-sm btn-block">BOOK</button>
      </div>

</form>

</div>


</div>



</div>
<script>
    // Wait for the page to load
    document.addEventListener("DOMContentLoaded", function () {
        // Remove flash messages after 5 seconds
        setTimeout(function () {
            var flashMessages = document.querySelectorAll(".alert");
            flashMessages.forEach(function (message) {
                message.remove();
            });
        }, 5000); // 5 seconds in milliseconds
    });
</script>


{% endblock body %}